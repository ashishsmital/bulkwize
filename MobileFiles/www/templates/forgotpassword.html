<ion-view title="Forgot Password">
  <ion-content class="has-header">
      <form role="form" name="mobileInfo" ng-show="step1" novalidate method="get" ng-submit="checkMob(mobileInfo.$valid, reg)">
      <div class="list">
          <label class="item item-input item-stacked-label">
              <span class="input-label">Mobile Number <sup>*</sup></span>
              <input type="text" placeholder="+91 XXXXXXXXXX" name="mob" id="mob" class="error" ng-model="reg.mob" required ng-pattern="/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/">
              <div class="validation-error" ng-if="(mobileInfo.$submitted || mobileInfo.mob.$touched)" ng-messages="mobileInfo.mob.$error" >
                  <div ng-message="required" class="error">Mobile Number is required</div>
                  <div ng-message="pattern" class="error">Must be a valid 10 digit phone number</div>

              </div>
          </label>

      </div>
      <div class="row">
          <div class="col text-center"><button class="button  button-positive icon-right"  ng-disabled="mobileInfo.$invalid" type="submit">Next</button></div>
      </div>
    </form>

    <form name="vatInfo" ng-show="step2" novalidate method="get" ng-submit="checkVat(vatInfo.$valid,vatObj)">
      <div class="list">
          <label class="item item-input item-stacked-label">
                  <span class="input-label">Please enter the license no. same as during registration <sup>*</sup></span>
                  <input type="text" name="vat" id="vat" class="error" ng-model="vatObj.vat" required >
                  <div class="validation-error" ng-if="(vatInfo.$submitted || vatInfo.vat.$touched)" ng-messages="vatInfo.vat.$error" >
                      <div ng-message="required" class="error">License number is required</div>
                  </div>
              </label>
      </div>

      <div class="row">
            <div class="col col-25"><a class="button  button-positive icon-left button-clear button-dark ion-chevron-left"  ng-click="goNextPrev(1)"> Back </a></div>
            <div class="col text-right"><button class="button  button-positive icon-right" ng-disabled="vatInfo.$invalid"  type="submit">Next</button></div>
        </div>

    </form>
    <form ng-show="step3" novalidate name="changePassInfo" method="post" ng-submit="changePassword(changePassInfo.$valid,reg)">
          <div class="list">
              <label class="item item-input item-stacked-label">
                  <span class="input-label">Enter new password <sup>*</sup></span>
                  <input type="password" placeholder="****" name="password" id="password" class="error" ng-model="reg.password" required>
                  <div class="validation-error" ng-if="(changePassInfo.$submitted || changePassInfo.password.$touched)" ng-messages="changePassInfo.password.$error" >
                      <div ng-message="required" class="error">Password is required</div>
                  </div>
              </label>
              <label class="item item-input item-stacked-label">
                  <span class="input-label">Confirm new password <sup>*</sup></span>
                  <input type="password" placeholder="****" name="confirmpassword" id="confirmpassword" class="error" ng-model="reg.confirmpassword" required compare-to="reg.password">
                  <div class="validation-error" ng-if="(changePassInfo.$submitted || changePassInfo.confirmpassword.$touched || changePassInfo.confirmpassword.$error.otherModelValue)" ng-messages="changePassInfo.confirmpassword.$error" >
                      <div ng-message="required" class="error">Confirm Password is required</div>
                      <div ng-message="compareTo" class="error">Oops! Please confirm your password</div>
                  </div>
              </label>
          </div>
        <div class="row">
            <div class="col col-25"><a class="button  button-positive icon-left button-clear button-dark ion-chevron-left"  ng-click="goNextPrev(2)"> Back </a></div>
            <div class="col text-right"><button class="button  button-positive icon-right"  type="submit">Change password</button></div>
        </div>

      </form>
  </ion-content>
</ion-view>
