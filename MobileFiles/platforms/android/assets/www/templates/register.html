<ion-view title="Register">
  <ion-content class="has-header">
      <form class="form-horizontal padding_col6_left" role="form" name="userInfo" ng-show="step1" novalidate method="post" autocomplete="off">
        <h4 class="text-center">User details</h4>
          <div class="list" >
              <label class="item item-input item-stacked-label">
                  <span class="input-label">Company/Shop Name <sup>*</sup></span>
                  <input type="text" placeholder="XYZ" name="companyname" id="companyname" class ="error" ng-model="reg.companyname" required>
                  <div class="validation-error" ng-if="(userInfo.$submitted || userInfo.companyname.$touched)" ng-messages="userInfo.companyname.$error" >
                      <div ng-message="required" class="error">Company/Shop Name is required</div>
                  </div>
              </label>
              <label class="item item-input item-stacked-label">
                  <span class="input-label">Mobile Number <sup>*</sup></span>
              <input type="text" placeholder="+91 XXXXXXXXXX" name="mob" mobile-exist id="mob" class="error" ng-model="reg.mob" required ng-pattern="/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/">
                  <div class="validation-error" ng-if="(userInfo.$submitted || userInfo.mob.$touched)" ng-messages="userInfo.mob.$error" >
                      <div ng-message="required" class="error">Mobile Number is required</div>
                      <div ng-message="pattern" class="error">Must be a valid 10 digit phone number</div>
                  <div ng-message="checkMob" class="error">Mobile no is  already used</div>
                  </div>
              </label>
              <label class="item item-input item-stacked-label">
                  <span class="input-label">Password <sup>*</sup></span>
                  <input type="password" placeholder="****" name="password" id="password" class="error" ng-model="reg.password" required>
                  <div class="validation-error" ng-if="(userInfo.$submitted || userInfo.password.$touched)" ng-messages="userInfo.password.$error" >
                      <div ng-message="required" class="error">Password is required</div>
                  </div>
              </label>
              <label class="item item-input item-stacked-label">
                  <span class="input-label">Confirm Password <sup>*</sup></span>
                  <input type="password" placeholder="****" name="confirmpassword" id="confirmpassword" class="error"  ng-model="reg.confirmpassword" required compare-to="reg.password">
                  <div class="validation-error" ng-if="(userInfo.$submitted || userInfo.confirmpassword.$touched || userInfo.confirmpassword.$error.otherModelValue)" ng-messages="userInfo.confirmpassword.$error" >
                      <div ng-message="required" class="error">Confirm Password is required</div>
                      <div ng-message="compareTo" class="error">Oops! Please confirm your password</div>
                  </div>
              </label>
          </div>
          <div>


              <label class="item wrap-white-space wrap-white-space ">
                  Please check & enter at least one following license no. <sup>*</sup>
              </label>

              <div class="row bz-lic-container">
                  <div class="col col-10"><ion-checkbox ng-model="reg.isVatLicense" name="vatNo" class="bz-ls-chk-item"></ion-checkbox></div>
                  <div class="col bz-content-item-col">
                      <div class="item" ng-if="reg.isVatLicense">
                          <input type="text" placeholder="VAT License # is required" name="vatLicense" id="vatLicense"  ng-class="{ 'error': userInfo.vatLicense.$invalid}" ng-model="reg.vatLicense" required ng-pattern="/^[2]{1}?[-\s\.]?[9]{1}[-\s\.]?[0-9]{9}$/"/>
                      </div>
                      <div class="item " ng-if="!reg.isVatLicense">
                          <input type="text" placeholder="VAT License Number #" name="vatLicense" id="vatLicense"  ng-model="reg.vatLicense" readonly />
                      </div>

                  </div>
              </div>

              <div class="row bz-lic-container">
                  <div class="col col-10">
                      <ion-checkbox ng-model="reg.isSTPTLicense" class="bz-ls-chk-item"></ion-checkbox>
                  </div>
                  <div class="col bz-content-item-col">
                      <div class="item" ng-if="reg.isSTPTLicense">
                          <input type="text" placeholder="Service/Professional License # is required" name="stptLicense" id="stptLicense" ng-class="{ 'error': userInfo.stptLicense.$invalid}" ng-model="reg.stptLicense" required ng-pattern="/^[0-9]{10}?[-\s\.]?[S]{1}[-\s\.]?[T]{1}[-\s\.]?[0-9]{3}$/" />
                      </div>

                      <div class="item" ng-if="!reg.isSTPTLicense">
                          <input type="text" placeholder="Service/Professional License #" name="stptLicense" id="stptLicense" readonly ng-model="reg.stptLicense" >
                      </div>

                  </div>
              </div>



              <div class="row bz-lic-container">
                  <div class="col col-10">
                      <ion-checkbox ng-model="reg.isSELLicense" class="bz-ls-chk-item" ></ion-checkbox>
                  </div>
                  <div class="col bz-content-item-col">
                      <label class="item" ng-if ="reg.isSELLicense">
                          <input type="text" placeholder="Shops & Establishments License # is required." name="selLicense" id="selLicense" ng-class="{ 'error': userInfo.selLicense.$invalid}" required ng-model="reg.selLicense" >
                      </label>
                      <label class="item" ng-if="!reg.isSELLicense">
                          <input type="text" placeholder="Shops & Establishments License #" name="selLicense" id="selLicense"  readonly  ng-model="reg.selLicense" >
                      </label>
                  </div>
              </div>




              <div class="row bz-lic-container">
                  <div class="col col-10">
                      <ion-checkbox ng-model="reg.isTradeLicense" class="bz-ls-chk-item"></ion-checkbox>
                  </div>
                  <div class="col bz-content-item-col">
                      <label class="item" ng-if ="reg.isTradeLicense">
                          <input type="text" placeholder="Trade License # is required" name="tradeLicense" id="tradeLicense" ng-class="{ 'error': userInfo.tradeLicense.$invalid}"  required ng-model="reg.tradeLicense" >
                      </label>
                      <label class="item " ng-if="!reg.isTradeLicense">
                          <input type="text" placeholder="Trade License #" name="tradeLicense" id="tradeLicense" readonly ng-model="reg.tradeLicense" >
                      </label>

                  </div>
              </div>

              <!--
            <label class="item wrap-white-space wrap-white-space ">
                Please check & enter at least one following license no. <sup>*</sup>
            </label>


              <ion-checkbox ng-model="reg.isVatLicense" name="vatNo" class="wrap-white-space">VAT #</ion-checkbox>
              <label class="item item-input item-stacked-label" ng-if="reg.isVatLicense">
                  <input type="text" placeholder="VAT License Number #" name="vatLicense" id="vatLicense" class="error" ng-model="reg.vatLicense" required ng-pattern="/^[2]{1}[-\s\.]?[9]{1}[-\s\.]?[0-9]{9}$/"/>
                 <div class="validation-error" ng-if="userInfo.vatLicense.$invalid" ng-messages="userInfo.vatLicense.$error" >
                      <div ng-message="required" class="error">VAT License Number # is required.</div>
                      <div ng-message="pattern" class="error">Must be a valid 11 digit VAT number</div>
                  </div>

              </label>

              <ion-checkbox ng-model="reg.isSTPTLicense" class="wrap-white-space">Service Tax #</ion-checkbox>
              <label class="item item-input item-stacked-label" ng-if="reg.isSTPTLicense">
                  <input type="text" placeholder="Service/Professional License Number #" name="stptLicense" id="stptLicense" class="error" required ng-model="reg.stptLicense" >

                  <div class="validation-error" ng-if="userInfo.stptLicense.$invalid" ng-messages="userInfo.stptLicense.$error" >
                    <div class="error">Service/Professional License Number # is required.</div>
                  </div>
              </label>

              <ion-checkbox ng-model="reg.isSELLicense" class="wrap-white-space"  >S&E License #</ion-checkbox>
              <label class="item item-input item-stacked-label" ng-if ="reg.isSELLicense">
                  <input type="text" placeholder="Shops & Establishments License Number #" name="selLicense" id="selLicense" class="error" required ng-model="reg.selLicense" >
                  <div class="validation-error" ng-if="userInfo.selLicense.$invalid" ng-messages="userInfo.selLicense.$error" >
                      <div class="error" >Shops & Establishments License Number # is required.</div>
                  </div>
              </label>

              <ion-checkbox ng-model="reg.isTradeLicense" class="wrap-white-space">Trade #</ion-checkbox>
              <label class="item item-input item-stacked-label" ng-if="reg.isTradeLicense">
                  <input type="text" placeholder="Trade License Number #" name="tradeLicense" id="tradeLicense" class="error" required ng-model="reg.tradeLicense" >
                  <div class="validation-error" ng-if="userInfo.tradeLicense.$invalid" ng-messages="userInfo.tradeLicense.$error" >
                      <div class="error" ng-if="reg.isTradeLicense && !reg.tradeLicense">Trade License Number # is required.</div>
                  </div>
              </label>
              -->
            </div>

          <div class="row" >
              <div class="col text-center">
                  <button class="button  button-positive icon-right ion-chevron-right" ng-disabled="userInfo.$invalid || (!reg.vatLicense && !reg.stptLicense && !reg.selLicense && !reg.tradeLicense)" ng-click="goNextPrev(2)"> Personal Info</button></div>
          </div>

      </form>
    <form class="form-horizontal padding_col6_left" role="form" name="personalInfo" ng-show="step2" novalidate method="post"  autocomplete="off">
        <h4 class="text-center">Personal details</h4>
        <div class="list" >
          <label class="item item-input item-stacked-label">
              <span class="input-label">First Name <sup>*</sup></span>
              <input type="text" placeholder="John" name="firstname" id="firstname" class="error" ng-model="reg.firstname" required>
              <div class="validation-error" ng-if="(register.$submitted || register.firstname.$touched)" ng-messages="register.firstname.$error" >
                  <div ng-message="required" class="error">First Name is required</div>
              </div>
          </label>
          <label class="item item-input item-stacked-label">
              <span class="input-label">Last Name <sup>*</sup></span>
              <input type="text" placeholder="Doe" name="lastname" id="lastname" class="error" ng-model="reg.lastname" required>
              <div class="validation-error" ng-if="(personalInfo.$submitted || personalInfo.lastname.$touched)" ng-messages="personalInfo.lastname.$error" >
                  <div ng-message="required" class="error">Last Name is required</div>
              </div>
          </label>
          <!--
          <label class="item item-input item-stacked-label">
              <span class="input-label">PAN Number <sup>*</sup></span>
              <input type="text" maxlength="10" placeholder="1234578" name="panumber" id="panumber" class="error" ng-model="reg.panumber" required>
              <div class="validation-error" ng-if="(personalInfo.$submitted || personalInfo.panumber.$touched)" ng-messages="personalInfo.panumber.$error" >
                  <div ng-message="required" class="error">PAN Number is required</div>
              </div>
          </label>
        -->
          <label class="item item-input item-stacked-label">
              <span class="input-label">Email <sup>*</sup></span>
              <input type="text" placeholder="sample@sample.com" name="email" id="email" class="error" ng-model="reg.email" required>
              <div class="validation-error" ng-if="(personalInfo.$submitted || personalInfo.email.$touched )" ng-messages="personalInfo.email.$error" >
                  <div ng-message="required" class="error">Email is required</div>
              </div>
          </label>

      </div>

      <div class="row">
            <div class="col col-25"><a class="button  button-positive icon-left button-clear button-dark ion-chevron-left"  ng-click="goNextPrev(1)"> Back </a></div>
            <div class="col text-right"><button class="button button-positive icon-right ion-chevron-right" ng-click="goNextPrev(3)" ng-disabled="personalInfo.$invalid">Shipping Address</button></div>
      </div>
    </form>
    <form class="form-horizontal padding_col6_left" role="form" name="shopInfo" ng-show="step3" novalidate method="post"  autocomplete="off">
        <h4 class="text-center">Shop details</h4>
        <div class="list">
          <label class="item item-input item-stacked-label">
                  <span class="input-label">Add line 1 <sup>*</sup></span>
              <textarea maxlength="50" ng-model="reg.shopAddLine1" name="shopAddLine1" id="shopAddLine1" required></textarea>
              <div class="validation-error" ng-if="(shopInfo.$submitted || shopInfo.shopAddLine1.$touched )" ng-messages="shopInfo.shopAddLine1.$error" >
                  <div ng-message="required" class="error">Address1 is required</div>
              </div>
          </label>
          <label class="item item-input item-stacked-label">
              <span class="input-label">Add line 2</span>
              <textarea maxlength="50" ng-model="reg.shopAddLine2" name="shopAddLine2" id="shopAddLine2" required></textarea>
          </label>

          <label class="item item-input item-stacked-label">
              <span class="input-label">City <sup>*</sup></span>
              <input type="text" placeholder="city"  name = "shopCity" id="shopCity" class = "error" ng-model="reg.shopCity" ng-value="Bangalore" readonly="readonly" required>
              <div class="validation-error" ng-if="(shopInfo.$submitted || shopInfo.shopCity.$touched )" ng-messages="shopInfo.shopCity.$error" >
                  <div ng-message="required" class="error">City is required</div>
              </div>
          </label>
          <label class="item item-input item-stacked-label">
              <span class="input-label">State <sup>*</sup></span>
              <input type="text" placeholder="city"  name = "shopState" id="shopState" class = "error" ng-model="reg.shopState" ng-value="Karnataka" readonly="readonly" required>
              <div class="validation-error" ng-if="(shopInfo.$submitted || shopInfo.shopState.$touched )" ng-messages="shopInfo.shopState.$error" >
                  <div ng-message="required" class="error">State is required</div>
              </div>
          </label>
          <label class="item item-input item-stacked-label">
              <span class="input-label">Pin code <sup>*</sup></span>
              <input type="number" maxlength="6" placeholder="PostCode"  name = "shopPincode" id="shopPincode" class = "error" ng-model="reg.shopPincode" required>
              <div class="validation-error" ng-if="(shopInfo.$submitted || shopInfo.shopPincode.$touched )" ng-messages="shopInfo.shopPincode.$error" >
                  <div ng-message="required" class="error">Pin code is required</div>
              </div>
          </label>
          <ion-list>
              <ion-checkbox ng-model="reg.isSameBillingAdd" class="wrap-white-space">Billing address is same as shipping address.</ion-checkbox>
          </ion-list>
      </div>
      <div class="row">
            <div class="col col-25"><a class="button  button-positive icon-left button-clear button-dark ion-chevron-left"  ng-click="goNextPrev(2)"> Back </a></div>
            <div class="col text-right"><button class="button button-positive icon-right ion-chevron-right" ng-click="goNextPrev(4)"  ng-disabled="shopInfo.$invalid" >Shipping Address</button></div>
      </div>
    </form>
    <form class="form-horizontal padding_col6_left" role="form" name="deliveryInfo" ng-show="step4" novalidate method="post" ng-submit="submit(deliveryInfo.$valid, reg)" autocomplete="off">
        <h4 class="text-center">Delivery details</h4>
        <div class="list">
        <label class="item item-input item-stacked-label">
          <span class="input-label">Add line 1 <sup>*</sup></span>
          <textarea maxlength="50" ng-model="reg.delAddLine1" name="delAddLine1" id="delAddLine1" required></textarea>
          <div class="validation-error" ng-if="(deliveryInfo.$submitted || deliveryInfo.delAddLine1.$touched )" ng-messages="deliveryInfo.delAddLine1.$error" >
              <div ng-message="required" class="error">Address1 is required</div>
          </div>
        </label>
        <label class="item item-input item-stacked-label">
              <span class="input-label">Add line 2 </span>
              <textarea maxlength="50" ng-model="reg.delAddLine2" name="delAddLine2" id="delAddLine2" required></textarea>
        </label>
        <label class="item item-input item-stacked-label">
              <span class="input-label">City <sup>*</sup></span>
              <input type="text" placeholder="city"  name = "delCity" id="delCity" class = "error" ng-model="reg.delCity" ng-value="Bangalore" readonly="readonly" required>
              <div class="validation-error" ng-if="(deliveryInfo.$submitted || deliveryInfo.delCity.$touched )" ng-messages="deliveryInfo.delCity.$error" >
                  <div ng-message="required" class="error">City is required</div>
              </div>
        </label>
        <label class="item item-input item-stacked-label">
              <span class="input-label">State <sup>*</sup></span>

			  <input type="text" placeholder="state"  name = "delState" id="delState" class = "error" ng-model="reg.delState" ng-value="Karnataka" readonly="readonly" required>
              <div class="validation-error" ng-if="(deliveryInfo.$submitted || deliveryInfo.delState.$touched )" ng-messages="deliveryInfo.delState.$error" >
                  <div ng-message="required" class="error">State is required</div>
              </div>
        </label>
        <label class="item item-input item-stacked-label">
              <span class="input-label">Pin code <sup>*</sup></span>
              <input type="number" maxlength="6" placeholder="PostCode"  name = "delPincode" id="delPincode" class = "error" ng-model="reg.delPincode" required>
              <div class="validation-error" ng-if="(deliveryInfo.$submitted || deliveryInfo.delPincode.$touched )" ng-messages="deliveryInfo.delPincode.$error" >
                  <div ng-message="required" class="error">Pin code is required</div>
              </div>
        </label>
      </div>
      <div class="row">
            <div class="col col-25"><a class="button  button-positive icon-left button-clear button-dark ion-chevron-left"  ng-click="goNextPrev(3)"> Back </a></div>
            <div class="col text-right"><button class="button  button-positive icon-right" ng-disabled = "deliveryInfo.$invalid" type="submit">Save</button></div>
      </div>
    </form>
   <!-- <pre>{{payLoad}}</pre> -->
  </ion-content>
</ion-view>
